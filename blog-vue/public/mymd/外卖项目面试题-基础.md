# 外卖项目面试题-基础
## Nginx的作用
1. 反向代理
前端把请求发送给nginx，再由nginx将请求发送给后端服务器。
2. 负载均衡
提高访问速度；进行负载均衡；保证后端服务安全
## 为什么叫反向代理，什么是正向代理
- 正向代理代理的对象是客户端，反向代理代理的对象是服务端
- 正向代理是客户端的延伸，反向代理是服务端的延伸
- 正向代理隐藏的是请求的客户端，反向代理隐藏的是服务器端
## 负载均衡算法
1. 轮询 （round-robin）  
轮询为负载均衡中较为基础也较为简单的算法，它不需要配置额外参数。假设配置文件中共有 台服务器，该算法遍历服务器节点列表，并按节点次序每轮选择一台服务器处理请求。当所有节点均被调用过一次后，该算法将从第一个节点开始重新一轮遍历。
2. 加权轮询  
为了避免普通轮询带来的弊端，加权轮询应运而生。在加权轮询中，每个服务器会有各自的 weight。一般情况下，weight 的值越大意味着该服务器的性能越好，可以承载更多的请求。
3. IP 哈希（IP hash）
ip_hash 依据发出请求的客户端 IP 的 hash 值来分配服务器，该算法可以保证同 IP 发出的请求映射到同一服务器，或者具有相同 hash 值的不同 IP 映射到同一服务器。该算法在一定程度上解决了集群部署环境下 Session 不共享的问题。  
### 底层实现
底层原理是，当Nginx接收到客户端的请求时，负载均衡模块会根据特定的算法选取一台服务器，并将请求转发到该服务器上。在转发请求的过程中，Nginx会将原始请求信息保存在内存中，并将转发后的响应返回给客户端，实现高效的请求处理和响应。同时，Nginx还支持动态调整服务器列表和权重配置，可以根据实际情况动态调整负载均衡策略，提高系统的可用性和性能。
## Swagger有什么作用
直接调试后端请求响应
## Redis常见数据类型
String、Hash、List、Set、Zset
## Redis和mysql有什么区别
1. 数据库类型不同  
- MySQL是关系型数据库；
- Redis是缓存数据库/非关系型数据库
2. 数据存放位置不同  
- MySQL的数据存在磁盘中
- Redis的数据存在内存中
3. 应用场景不同  
- MySQL存放在硬盘中，数据读取要I/O操作，速度慢，适合持久化的数据存取；
- Redis存放在内存中，用CPU读取，非常快，适合热点数据的存取。
4. 存放数据类型不同  
- MySQL：数值、日期/时间、字符串
- Redis：String、Hash、List、Set、Zset
## HTTPClient的作用
- 发送HTTP请求
- 接收响应数据
## SpringCache有哪些注解
- **@EnableCaching**，加在启动类上开启
- **@Cacheable**，放要缓存的查询上，快速查询redis，没有则查询后加入redis
- **@CachePut**，放新增上，将结果放入redis
- **@CacheEvict**，放删上，去掉一条；放改上，去掉全部重新记
## SpringTask的作用，cron表达式
- 任务调度，在特定时间执行指定的Java代码，定时做任务。
- 域：秒 分 时 日 月 周 年，SpringTask只支持前6个域，不支持年的域。然后用*表示每个单位都执行，比如每日、每秒等；?表示冲突时的缺省，比如日月和周的冲突；/10表示每10个单位，比如每10分钟、每10个月等。
## Websocket和http区别是什么
### 不同点
- WebSocket支持持久连接，HTTP不支持持久连接。
- WebSocket是双向通信协议，HTTP是单向协议，只能由客户端发起，做不到服务器主动向客户端推送信息。
### 相同点：
- 都是建立在TCP之上，通过TCP协议来传输数据。
- 都是可靠性传输协议。
- 都是应用层协议。
