# SPMV稀疏矩阵向量乘笔记（30）
## yaSpMV: yet another SpMV framework on GPUs 浅读 (1)
### **Introduction **
* 介绍了spmv因为gpu的发展，导致gpu加速spmv的研究越来越多，但是仍然有两个主要的问题：①基于行的并行化，即使是逻辑上密集的，但是因为非零元的不均匀分布，所以存在负载不均衡问题，并且这种情况在gpu上更加严重，因为是以wrap为单位的，所以会导致wrap所有的线程不得不等待时间最长的那个②矩阵数据重用性较低，每个非零元只用一次。即使x向量被重用，但是每行的不规则访问，依然不符合gpu内存合并的要求
* 单一的存储格式并不能满足所有矩阵高性能的要求，当前有将矩阵格式划分将不同的格式应用不同的分区来组合。
* 本文提出了一种新格式BCCOO，使用bit标志位来减少行索引的大小，为了提高cache命中，在应用BCCOO格式之前将矩阵垂直切片
* 为了解决负载均衡，还重新设计了一种优化的的segment scan算法，每个线程都处理相同数量的连续非零块，并且并行的运行segment scan/sum算法，最后使用adjacent synchronization来解决同步问题
* 最后开发了一种自动调优框架，去对于不同的稀疏矩阵选择最优的参数，例如使用纹理内存，是online还是offline进行转置，block的大小，每个线程需要处理的非零块的数量，共享内存的大小。